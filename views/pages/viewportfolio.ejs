<div class="jumbotron text-center customizedNormal bg-no-overlay">
    <h1 class="textInTransparentBlack"><%= portfolio.createdBy.google.name %></h1>
    <h2 class="textInTransparentBlack">Portfolio</h2>
</div>

<% if(errors.length > 0) { %>
    <div class="alert alert-danger">
        <% for(error of errors) { %>
            <%= error %><br>
        <% } %>
    </div>
<% } %>

<!-- User's details -->
<div class="row">
    <!-- Image -->
    <div class="col-sm-4 contentCentered">
        <img class="img-circle" src="<%= portfolio.createdBy.google.imageUrl %>" alt="<%= portfolio.createdBy.google.name %>">
        <h2><%= portfolio.createdBy.google.name %></h2>
    </div>
    <!-- Description -->
    <div class="col-sm-8">
        <div class="userDescription">
            <%- portfolio.userDescription %>
        </div>
    </div>
</div>

<hr class="featurette-divider">

<!-- User's projects -->
<div id="projectsdiv">
<%  var progCounter = 0;
    var isEven = true;
    for(var project of portfolio.projectList) {
        const carouselId = "myCarousel_" + project.slug;
        const carouselIndicatorsId = "myCarouselIndicators_" + project.slug;
        const carouselInnerId = "myCarouselInner_" + project.slug;

        if(progCounter++ % 2 == 0) {
            isEven = true;
        }
        else {
            isEven = false;
        } %>

        <div class="row">
            <!-- project carousel -->
            <% if(isEven) { %>
            <div class="col-sm-9 carousel-div-left backInLightSlateGray">
            <% } else { %>
            <div class="progDescription-left col-sm-3 white-text backInSilver">
                <h1><%= project.title %></h1>
                <div><%= project.briefDescription %></div>
            </div>
            <div class="col-sm-9 carousel-div-right backInSilver">
            <% }  %>
                <div id="<%= carouselId %>" class="carousel slide" data-ride="carousel">
                    <ol id="<%= carouselIndicatorsId %>" class="carousel-indicators">
                        <%  var mediaId = 0;
                            for(media of project.mediaList) { 
                                if(mediaId === 0) { %>
                                <li data-target="#<%= carouselId %>" data-slide-to="<%= mediaId %>" class="active"></li>
                                <% } else { %>
                                <li data-target="#<%= carouselId %>" data-slide-to="<%= mediaId %>"></li>
                                <% }  %>
                        <%  mediaId++;
                            }  %>
                    </ol>

                    <div id="m<%= carouselInnerId %>" class="carousel-inner" role="listbox">
                        <%  mediaId = 0;
                            for(media of project.mediaList) { 
                            if(mediaId === 0) { %>
                            <div class="item active">
                            <% } else { %>
                            <div class="item">
                            <% }  %>
                                <a data-fancybox="<%= project.slug %>" data-caption="<%= media.mediaTitle %>" href="<%= media.mediaUrl %>">
                                    <img class="img-responsive center-block" src="<%= media.mediaUrl %>" alt="<%= media.mediaTitle %>">
                                </a>
                                <div class="container">
                                    <div class="carousel-caption">
                                        <h2><%= media.mediaTitle %></h2>
                                        <p><%= media.description %></p>
                                    </div>
                                </div>
                            </div>
                        <%  mediaId++;
                            }  %>
                    </div>

                    <a class="left carousel-control" href="#<%= carouselId %>" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#<%= carouselId %>" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <!-- project brief description -->
            <% if(isEven) { %>
            <div class="progDescription-right col-sm-3 white-text backInLightSlateGray">
                <h1><%= project.title %></h1>
                <div><%= project.briefDescription %></div>
            </div>
            <% } %>
                
        </div>
<%  }  %>
</div>
<hr class="featurette-divider">

<!-- User's web links -->

<div class="row">
    <!-- Github -->
    <div class="col-sm-3 contentCentered">
        <img class="img-circle" src="/images/github-140.png" alt="Github" width="140" height="140">
        <h2>Github</h2>
        <a class="btn btn-default" href="<%= portfolio.webportals.github %>" target="_blank" role="button">Go!</a>
    </div>
    <!-- Stack Overflow -->
    <div class="col-sm-3 contentCentered">
        <img class="img-circle" src="/images/stackoverflow-140.png" alt="Stack Overflow" width="140" height="140">
        <h2>Stack Overflow</h2>
        <a class="btn btn-default" href="<%= portfolio.webportals.stackoverflow %>" target="_blank" role="button">Go!</a>
    </div>
    <!-- LinkedIn -->
    <div class="col-sm-3 contentCentered">
        <img class="img-circle" src="/images/linkedin-140.png" alt="LinkedIn" width="140" height="140">
        <h2>LinkedIn</h2>
        <a class="btn btn-default" href="<%= portfolio.webportals.linkedin %>" target="_blank" role="button">Go!</a>
    </div>
    <!-- Hackerrank -->
    <div class="col-sm-3 contentCentered">
        <img class="img-circle" src="/images/hackerrank-140.png" alt="Hackerrank" width="140" height="140">
        <h2>Hackerrank</h2>
        <a class="btn btn-default" href="<%= portfolio.webportals.hackerrank %>" target="_blank" role="button">Go!</a>
    </div>
</div>
